!function(){var t={241:function(t){t.exports={DISPLAY_MODE:"PAL_2D",VSYNC:1,INTERLACED:1,ACCELERATION:.001,INITIAL_SPEED:6,MAX_SPEED:12,MAX_SCORE:69420,FRAMES_PER_SCORE:4,MAX_PRESS_STEPS:4,INVERSION_POINTS:1e3,SHORT_JUMP:-11,LONG_JUMP:-4,SCORE_LOCK:90,SCORE_LOCK_AT:100,MAX_CLOUDS:3,BIRD:6,TRIGGER_SPEED:490}},625:function(t){t.exports={White:Color.new(255,255,255),Black:Color.new(0,0,0),DarkGrey:Color.new(32,32,32),LightGrey:Color.new(67,67,67)}},549:function(t){var e=[PAD_SELECT,PAD_START,PAD_UP,PAD_RIGHT,PAD_DOWN,PAD_LEFT,PAD_TRIANGLE,PAD_CIRCLE,PAD_CROSS,PAD_SQUARE,PAD_L1,PAD_R1,PAD_L2,PAD_R2,PAD_L3,PAD_R3],n={},i={},o={},r={},s={},a=current=Pads.get();t.exports={capture:function(){current=Pads.get(),e.forEach((function(t){var e=Pads.check(current,t),c=Pads.check(a,t);e||!c||n[t]||s[t]?e&&c&&r[t]==env.MAX_PRESS_STEPS&&!s[t]?(i[t]=!1,n[t]=!0):e&&c&&r[t]<env.MAX_PRESS_STEPS&&!s[t]?r[t]++:e||c||(i[t]=!1,n[t]=!1,s[t]=!1,r[t]=0):(i[t]=!0,r[t]=0),e&&!s[t]?o[t]=!0:o[t]=!1})),a=current},release:function(t){i[t]=!1,o[t]=!1,n[t]=!1,r[t]=0,s[t]=!0},clicked:function(t){return i[t]},pressed:function(t){return n[t]},interacted:function(t){return o[t]}}},836:function(t){t.exports=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t+1))+t}},59:function(t){t.exports={Vector2:function(t,e){return{x:t,y:e}},Vector3:function(t,e,n){return{x:t,y:e,z:n}}}},640:function(t){t.exports=function(){var t,e,n,i=[];return function(){t=Graphics.loadImage("./assets/img/cloud.png"),Graphics.setImageFilters(t,"NEAREST");for(var o=0;o<env.MAX_CLOUDS;o++){var r={position:new Vector2((env.SCREEN_WIDTH*o+46)/env.MAX_CLOUDS,random(128,300))};i.push(r)}e=92,n=!1}(),{update:function(t){t.dt;var o=t.speed,r=n?.1*o:.001;i.forEach((function(t){if(t.position.x-=r,t.position.x+e<0){var n=i.shift();n.position.x=env.SCREEN_WIDTH,n.position.y=random(128,300),i.push(n)}}))},draw:function(){for(var e=0;e<env.MAX_CLOUDS;e++)Graphics.drawImage(t,i[e].position.x,i[e].position.y)},start:function(){n=!0},stop:function(){n=!1}}}},79:function(t,e,n){t.exports=function(){var t,e,i,o,r,s,a,c,p,d,u,E=n(293),h=E.states,f=E.meta,_=E.sprite;return i=Graphics.loadImage(_),Graphics.setImageFilters(i,"NEAREST"),r=Sound.loadADPCM("./assets/sound/jump.adp"),s=Sound.loadADPCM("./assets/sound/die.adp"),t=h.IDLE,a=325,p=new Vector2(100,a),d=new Vector2(0,0),u={position:new Vector2(p.x-22+12,p.y-23.5+2),dimensions:new Vector2(30,30)},o=0,e=0,c=!1,{update:function(n){n.dt,n.speed;var i=f[t];switch(i.length>0&&(5==e?(o+1<i.length?o++:o=0,e=0):e++),t){case h.RUNNING:GamePad.interacted(PAD_DOWN)&&(t=h.CRAWLING),GamePad.interacted(PAD_CROSS)&&(Sound.playADPCM(-1,r),t=h.JUMPING,o=0),u.position.x=p.x-22+12,u.position.y=p.y-23.5+2,u.dimensions.x=30,u.dimensions.y=30;break;case h.CRAWLING:GamePad.interacted(PAD_DOWN)||(t=h.RUNNING),u.position.x=p.x-26.5,u.position.y=p.y,u.dimensions.x=53,u.dimensions.y=22;break;case h.JUMPING:p.y==a&&(d.y=env.SHORT_JUMP),!c&&d.y<0&&GamePad.pressed(PAD_CROSS)&&(d.y+=env.LONG_JUMP,c=!0),p.y+=d.y,d.y+=1,p.y>=a&&(t=h.RUNNING,d.y=0,p.y=a,c=!1),u.position.x=p.x-22+12,u.position.y=p.y-23.5+2,u.dimensions.x=30,u.dimensions.y=30}},draw:function(){var e=f[t],n=e.startCol*e.width+o*e.width,r=e.startRow*e.height;Graphics.drawImageExtended(i,p.x,p.y,n,r,n+e.width,r+e.height,e.width,e.height,0)},start:function(){t=h.RUNNING,p.y=a},kill:function(){o=0,t=h.DEAD,Sound.playADPCM(-1,s)},get state(){return h[t]},get position(){return p},get size(){return size},get collider(){return u},get dead(){return t==h.DEAD}}}},68:function(t){t.exports=function(){var t,e,n;return n=!1,t={position:new Vector2(0,128),dimensions:new Vector2(env.SCREEN_WIDTH,128),stopY:0},e={position:new Vector2(0,256),dimensions:new Vector2(env.SCREEN_WIDTH,128),stopY:384},{update:function(i){i.dt,i.speed;var o=!1;t.position.y>t.stopY&&(t.position.y-=2,o=!0),e.position.y<e.stopY&&(e.position.y+=2,o=!0),n=!o},draw:function(){Graphics.drawRect(t.position.x,t.position.y,t.dimensions.x,t.dimensions.y,Colors.Black),Graphics.drawRect(e.position.x,e.position.y,e.dimensions.x,e.dimensions.y,Colors.Black)},get finished(){return n}}}},814:function(t){t.exports=function(){var t,e,n,i=[];return function(){t=new Vector2(0,328),e=400,n=!1;for(var o=0;o<6;o++){var r=Graphics.loadImage("./assets/img/floor_".concat(o,".png"));Graphics.setImageFilters(r,"NEAREST"),i.push(r)}}(),{update:function(o){o.dt;var r=o.speed;if(n&&(t.x-=r,t.x+e<0)){var s=i.shift();i.push(s),t.x=0}},draw:function(){for(var n=0;n<6;n++)Graphics.drawImage(i[n],t.x+e*n,t.y)},start:function(){n=!0},stop:function(){n=!1}}}},788:function(t,e,n){function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}t.exports=function(){var t,e,i,r,s=n(898).meta,a=[],c={};return function(){r=!1,e=0,i=0,t=Timer.new();for(var n=1;n<=3;n++)c["cactus_big_".concat(n)]=o(o({},s["cactus_big_".concat(n)]),{},{sprite:Graphics.loadImage("./assets/img/cactus_big_".concat(n,".png"))}),c["cactus_short_".concat(n)]=o(o({},s["cactus_short_".concat(n)]),{},{sprite:Graphics.loadImage("./assets/img/cactus_short_".concat(n,".png"))}),c.bird=o(o({},s.bird),{},{sprite:Graphics.loadImage("./assets/img/bird.png")}),Graphics.setImageFilters(c["cactus_big_".concat(n)].sprite,"NEAREST"),Graphics.setImageFilters(c["cactus_short_".concat(n)].sprite,"NEAREST"),Graphics.setImageFilters(c.bird.sprite,"NEAREST")}(),{update:function(n){n.dt;var s=n.speed;if(!r)return!1;var p=!1;++i>7&&(p=!0,i=0);var d=0;a.forEach((function(t,e){t.position.x-=0==t.type?s:1.5*s,1==t.type&&p&&(t.frame=!t.frame),t.position.x+t.width<0&&0==e?a.shift():d=e})),d&&a.slice(d,1),Timer.getTime(t)>s*env.TRIGGER_SPEED&&function(){Timer.reset(t),e++;var n=random(1,3);random(0,1)?a.push(o(o({},c["cactus_short_".concat(n)]),{},{position:new Vector2(env.SCREEN_WIDTH,312)})):a.push(o(o({},c["cactus_big_".concat(n)]),{},{position:new Vector2(env.SCREEN_WIDTH,298)}))}(),e>env.BIRD&&(e=0,a.push(o(o({},c.bird),{},{position:new Vector2(env.SCREEN_WIDTH,random(172,284))})))},draw:function(){a.forEach((function(t){switch(t.type){case 0:Graphics.drawImage(t.sprite,t.position.x,t.position.y);break;case 1:var e=t.frame?0:t.width;Graphics.drawImageExtended(t.sprite,t.position.x,t.position.y,e,0,e+t.width,t.height,t.width,t.height,0)}}))},start:function(){for(;a.length;)a.pop();r=!0,Timer.reset(t),Timer.resume(t)},stop:function(){r=!1,Timer.pause(t)},colliding:function(t){var e=!1;return a.forEach((function(n){var i=n.type?n.position.x-n.width/2:n.position.x,o=n.type?n.position.y-n.height/2:n.position.y;t.position.x<i+n.width&&t.position.x+t.dimensions.x>i&&t.position.y<o+n.height&&t.position.y+t.dimensions.y>o&&(e=!0)})),e}}}},638:function(t){t.exports=function(){var t,e,n,i,o,r,s,a,c,p;function d(t){return s?("00000"+100*Math.floor(t/100)).slice(-5):("00000"+t).slice(-5)}return e=0,n=0,i=!1,o=0,s=0,a=!1,c=new Vector2(-112,160),p=new Vector2(-260,160),t=Font.ftLoad("./assets/font/PressStart2P.ttf"),r=Sound.loadADPCM("./assets/sound/point.adp"),{update:function(t){if(t.dt,t.speed,!i)return!1;o>env.FRAMES_PER_SCORE?(o=0,e++,n<=e&&n++):o++,e%env.SCORE_LOCK_AT==0&&(Sound.playADPCM(-1,r),s=1),s&&s<env.SCORE_LOCK?(s%11==0&&(a=!a),s++):s=0},draw:function(){a||(Font.ftPrint(t,env.SCREEN_WIDTH+c.x,c.y,0,0,0,d(e),Colors.DarkGrey),Font.ftPrint(t,env.SCREEN_WIDTH+p.x,p.y,0,0,0,"HI "+d(n),Colors.LightGrey))},start:function(){0==n&&(n=1),e=1,i=!0},stop:function(){i=!1,a=!1,s=0},get state(){return states[state]}}}},293:function(t){t.exports={states:{IDLE:0,DEAD:1,RUNNING:2,CRAWLING:3,JUMPING:4},meta:[{length:1,width:44,height:47,startCol:0,startRow:0},{length:1,width:44,height:47,startCol:1,startRow:0},{length:2,width:44,height:47,startCol:2,startRow:0},{length:2,width:59,height:47,startCol:0,startRow:1},{length:1,width:44,height:47,startCol:0,startRow:0}],sprite:"./assets/img/dino.png"}},864:function(t){t.exports={states:{PRE_GAME:0,GAME:1,GAME_OVER:2}}},898:function(t){t.exports={meta:{cactus_short_1:{width:16,height:35,type:0},cactus_short_2:{width:34,height:35,type:0},cactus_short_3:{width:51,height:35,type:0},cactus_big_1:{width:25,height:50,type:0},cactus_big_2:{width:50,height:50,type:0},cactus_big_3:{width:75,height:50,type:0},bird:{width:46,height:40,type:1,frame:!1}}}},978:function(t,e,n){var i=n(79),o=n(814),r=n(638),s=n(788),a=n(68),c=n(640);t.exports=function(){var t,e,p,d,u,E,h,f,_,D=n(864).states;function R(){E=env.INITIAL_SPEED,t=D.GAME,d.start(),e.start(),p.start(),u.start(),f.start()}return function(){switch(env.DISPLAY_MODE){case"PAL_2D":Display.setMode(PAL,640,512,CT24,env.INTERLACED?INTERLACED:NONINTERLACED,FIELD),env.SCREEN_WIDTH=640,env.SCREEN_HEIGHT=512;break;case"PAL_3D":Display.setMode(PAL,640,512,CT24,env.INTERLACED?INTERLACED:NONINTERLACED,FIELD,!0,Z16S),env.SCREEN_WIDTH=640,env.SCREEN_HEIGHT=512;break;case"NTSC_2D":Display.setMode(NTSC,640,448,CT24,env.INTERLACED?INTERLACED:NONINTERLACED,FIELD),env.SCREEN_WIDTH=640,env.SCREEN_HEIGHT=448;break;case"NTSC_3D":Display.setMode(NTSC,640,448,CT24,env.INTERLACED?INTERLACED:NONINTERLACED,FIELD,!0,Z16S),env.SCREEN_WIDTH=640,env.SCREEN_HEIGHT=448}Display.setVSync(!!env.VSYNC),Font.ftInit(),Sound.setFormat(8,44100,2),t=D.PRE_GAME,E=env.INITIAL_SPEED,e=new i,p=new o,d=new r,u=new s,h=new a,f=new c,_=!1}(),{update:function(n){switch(t){case D.PRE_GAME:h.finished?GamePad.interacted(PAD_CROSS)&&R():h.update({dt:n,speed:E});break;case D.GAME_OVER:GamePad.interacted(PAD_CROSS)&&R();break;case D.GAME:GamePad.interacted(PAD_START)&&(_=!_,GamePad.release(PAD_START)),u.colliding(e.collider)?(e.kill(),d.stop(),p.stop(),u.stop(),f.stop(),t=D.GAME_OVER,GamePad.release(PAD_CROSS)):_||(E<env.MAX_SPEED&&(E+=env.ACCELERATION),f.update({dt:n,speed:E}),e.update({dt:n,speed:E}),d.update({dt:n,speed:E}),p.update({dt:n,speed:E}),u.update({dt:n,speed:E}))}},draw:function(){Display.clear(Colors.Black),Graphics.drawRect(0,128,env.SCREEN_WIDTH,256,Colors.White),p.draw(),f.draw(),e.draw(),u.draw(),d.draw(),h.finished||h.draw(),Display.flip()}}}}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,n),r.exports}n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),function(){n.g.env=n(241),n.g.Vector2=n(59).Vector2,n.g.Colors=n(625),n.g.GamePad=n(549),n.g.random=n(836);var t,e=n(978)(),i=Timer.new();for(previousFrame=0;;)void 0,t=(Timer.getTime(i)-previousFrame)/1e3,previousFrame=Timer.getTime(i),GamePad.capture(),e.update(t),e.draw()}()}();